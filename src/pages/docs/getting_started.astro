---
import DocsLayout from "../../layouts/DocsLayout.astro";
import CodeBlock from "../../components/CodeBlock.astro";

const headings = [
    { depth: 2, slug: "installation", text: "Installation" },
    {
        depth: 2,
        slug: "creating-a-new-project",
        text: "Creating a New Project",
    },
    { depth: 2, slug: "creating-components", text: "Creating Components" },
    { depth: 2, slug: "using-lifecycle-hooks", text: "Using Lifecycle Hooks" },
    { depth: 2, slug: "composing-components", text: "Composing Components" },
    {
        depth: 2,
        slug: "running-the-development-server",
        text: "Running the Development Server",
    },
    {
        depth: 2,
        slug: "building-for-production",
        text: "Building for Production",
    },
    { depth: 2, slug: "using-tailwind-css", text: "Using Tailwind CSS" },
    { depth: 2, slug: "using-bootstrap", text: "Using Bootstrap" },
    { depth: 2, slug: "next-steps", text: "Next Steps" },
];
---

<DocsLayout title="Getting Started" headings={headings}>
    <h1>Getting Started with Snakeskin</h1>

    <p>
        Snakeskin is a modern, lightweight frontend framework designed to make
        building component-based web applications fast, flexible, and enjoyable.
        This guide will help you get started with Snakeskin.
    </p>

    <h2 id="installation">Installation</h2>

    <CodeBlock
        code="pip install snakeskin-xplnhub"
        language="bash"
        title="Install via Pip"
    />

    <p>For development features including hot reload:</p>

    <CodeBlock code="pip install snakeskin-xplnhub[dev]" language="bash" />

    <p>For Bootstrap integration:</p>

    <CodeBlock
        code="pip install snakeskin-xplnhub[bootstrap]"
        language="bash"
    />

    <h2 id="creating-a-new-project">Creating a New Project</h2>

    <CodeBlock
        code="snakeskin create my-project\ncd my-project"
        language="bash"
    />

    <p>This will scaffold a new project with the following structure:</p>

    <CodeBlock
        code={`my-project/
├── src/
│   └── components/    # Your UI components
├── dist/              # Build output directory
├── input.css          # Tailwind CSS input file
├── main.py            # Main application entry
├── tailwind.config.js # Tailwind configuration`}
        language="text"
        title="Project Structure"
    />

    <h2 id="creating-components">Creating Components</h2>

    <p>
        Components are the building blocks of your application. Here's how to
        create a simple component:
    </p>

    <CodeBlock
        code={`# src/components/Button.py
from snakeskin.framework import Component

class Button(Component):
    def __init__(self, **props):
        super().__init__(**props)
        self.state = {
            "clicked": False
        }
        
    def handle_click(self, event=None):
        self.set_state({"clicked": not self.state.get("clicked", False)})
        
    def render(self):
        clicked = self.state.get("clicked", False)
        button_class = "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"
        if clicked:
            button_class = "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
            
        return f"""
        <button 
            class="{button_class}" 
            onclick="handleClick_{id(self)}()"
        >
            {self.props.get("text", "Click me")}
        </button>
        <script>
            function handleClick_{id(self)}() {{
                console.log("Button clicked");
                // In a real application, you would use AJAX or WebSockets to communicate with the server
            }}
        </script>
        """`}
        language="python"
        title="Button.py"
    />

    <h2 id="using-lifecycle-hooks">Using Lifecycle Hooks</h2>

    <p>
        Snakeskin provides lifecycle hooks to help you manage component state:
    </p>

    <CodeBlock
        code={`# src/components/Timer.py
from snakeskin.framework import Component
import time

class Timer(Component):
    def __init__(self, **props):
        super().__init__(**props)
        self.state = {
            "seconds": 0
        }
        
        # Register lifecycle hooks
        self.on('mounted', self.start_timer)
        self.on('before_unmount', self.stop_timer)
        
    def start_timer(self, component):
        self.timer_running = True
        # In a real application, you would use a proper timer mechanism
        # This is just for demonstration
        print("Timer started")
        
    def stop_timer(self, component):
        self.timer_running = False
        print("Timer stopped")
        
    def tick(self):
        if self.timer_running:
            self.set_state({"seconds": self.state["seconds"] + 1})
            
    def render(self):
        return f"""
        <div class="timer">
            <p>Seconds elapsed: {self.state["seconds"]}</p>
        </div>
        """`}
        language="python"
        title="Timer.py"
    />

    <h2 id="composing-components">Composing Components</h2>

    <p>You can compose components to build complex UIs:</p>

    <CodeBlock
        code={`# src/components/App.py
from snakeskin.framework import Component
from src.components.Button import Button
from src.components.Timer import Timer

class App(Component):
    def render(self):
        button = Button(text="Toggle Timer")
        timer = Timer()
        
        return f"""
        <div class="container mx-auto p-4">
            <h1 class="text-2xl font-bold mb-4">Snakeskin Demo</h1>
            {button.render()}
            {timer.render()}
        </div>
        """`}
        language="python"
        title="App.py"
    />

    <h2 id="running-the-development-server">Running the Development Server</h2>

    <p>Start the development server with hot reload:</p>

    <CodeBlock code="snakeskin dev" language="bash" />

    <p>This will:</p>
    <ol class="list-decimal pl-6 space-y-2 text-neutral-300">
        <li>Build your project</li>
        <li>Start a development server at http://localhost:3000</li>
        <li>Watch for file changes and automatically reload the browser</li>
    </ol>

    <h2 id="building-for-production">Building for Production</h2>

    <p>When you're ready to deploy:</p>

    <CodeBlock code="snakeskin build" language="bash" />

    <p>
        This will create optimized files in the <code>dist</code> directory that you
        can deploy to any static hosting service.
    </p>

    <h2 id="using-tailwind-css">Using Tailwind CSS</h2>

    <p>
        Snakeskin integrates seamlessly with Tailwind CSS. You can use Tailwind
        classes directly in your component's render method:
    </p>

    <CodeBlock
        code={`def render(self):
    return """
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
        <h2 class="text-gray-700 text-xl font-bold mb-2">Welcome</h2>
        <p class="text-gray-700">This component uses Tailwind CSS for styling.</p>
    </div>
    """`}
        language="python"
    />

    <h2 id="using-bootstrap">Using Bootstrap</h2>

    <p>
        Snakeskin also supports Bootstrap. You can use the BootstrapIntegration
        helper:
    </p>

    <CodeBlock
        code={`from snakeskin import BootstrapIntegration

# In your main.py
html_content = f"""
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My App</title>
</head>
<body>
    {app.render()}
</body>
</html>
"""

# Add Bootstrap CSS and JS
html_content = BootstrapIntegration.include_in_template(html_content, "both")

with open("dist/index.html", "w") as f:
    f.write(html_content)`}
        language="python"
    />

    <p>Now you can use Bootstrap classes in your components:</p>

    <CodeBlock
        code={`def render(self):
    return """
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Bootstrap Card</h5>
                        <p class="card-text">This component uses Bootstrap for styling.</p>
                        <button class="btn btn-primary">Click me</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    """`}
        language="python"
    />

    <h2 id="next-steps">Next Steps</h2>

    <ul class="list-disc pl-6 space-y-2 text-neutral-300">
        <li>
            Check out the <a
                href="/docs/component_guide"
                class="text-accent-primary hover:underline">Component Guide</a
            > for more details on component development
        </li>
        <li>
            Learn about <a
                href="/docs/state_management"
                class="text-accent-primary hover:underline">State Management</a
            > for managing application state
        </li>
        <li>
            Explore <a
                href="/docs/styling_guide"
                class="text-accent-primary hover:underline">Styling Options</a
            > for more information on styling your application
        </li>
        <li>
            See the <a
                href="/docs/api_reference"
                class="text-accent-primary hover:underline">API Reference</a
            > for detailed documentation of all classes and methods
        </li>
    </ul>
</DocsLayout>
